<!doctype html>
<html lang="ja">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>お買い物カゴ | ワールドスタンプ広島</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            body {
                font-family:
                    'Hiragino Kaku Gothic ProN', 'ヒラギノ角ゴ ProN', 'メイリオ', Meiryo, 'MS Pゴシック', sans-serif;
            }
        </style>
    </head>
    <body class="bg-gray-100">
        <!-- ヘッダー -->
        <header class="bg-white shadow-sm border-b border-gray-200">
            <div class="container mx-auto px-4">
                <div class="flex items-center justify-between h-16">
                    <div class="flex items-center">
                        <a href="index.html" class="flex items-center">
                            <h1 class="text-xl font-bold" style="color: #c41e3a">ワールドスタンプ広島</h1>
                        </a>
                    </div>

                    <nav class="hidden md:flex space-x-8">
                        <a href="index.html" class="text-gray-700 hover:text-[#C41E3A]">ホーム</a>
                        <a href="features.html" class="text-gray-700 hover:text-[#C41E3A]">特徴</a>
                        <a href="sell.html" class="text-gray-700 hover:text-[#C41E3A]">買取</a>
                        <a href="buy.html" class="text-gray-700 hover:text-[#C41E3A]">購入</a>
                        <a href="appraiser.html" class="text-gray-700 hover:text-[#C41E3A]">鑑定士</a>
                        <a href="about.html" class="text-gray-700 hover:text-[#C41E3A]">店舗案内</a>
                        <a href="qna.html" class="text-gray-700 hover:text-[#C41E3A]">Q&A</a>
                    </nav>

                    <div class="flex items-center space-x-4">
                        <a href="simple-cart.html" class="hover:text-[#C41E3A]">お買い物カゴ</a>
                        <a href="contact.html" class="bg-[#C41E3A] text-white px-4 py-2 rounded hover:bg-[#A01729]">
                            お問い合わせ
                        </a>
                    </div>
                </div>
            </div>
        </header>

        <main class="container mx-auto px-4 py-8">
            <div class="max-w-4xl mx-auto">
                <h1 class="text-3xl font-bold text-gray-800 mb-8">お買い物カゴ</h1>

                <!-- カート内容 -->
                <div class="bg-white rounded-lg shadow p-6 mb-8">
                    <div id="cart-items">
                        <!-- カートが空の場合 -->
                        <div id="empty-cart" class="text-center py-12">
                            <svg
                                class="w-16 h-16 text-gray-300 mx-auto mb-4"
                                fill="none"
                                stroke="currentColor"
                                viewBox="0 0 24 24"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="1"
                                    d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5M17 21a2 2 0 100-4 2 2 0 000 4zM9 21a2 2 0 100-4 2 2 0 000 4z"
                                ></path>
                            </svg>
                            <h3 class="text-xl font-semibold text-gray-600 mb-2">カートは空です</h3>
                            <p class="text-gray-500 mb-4">商品を追加してお買い物を始めましょう</p>
                            <a
                                href="products.html"
                                class="bg-[#C41E3A] text-white px-6 py-2 rounded hover:bg-[#A01729] inline-block"
                            >
                                商品を見る
                            </a>
                        </div>

                        <!-- カートアイテム（JavaScript で動的に追加） -->
                        <div id="cart-content" class="hidden">
                            <div class="space-y-4" id="items-list">
                                <!-- カートアイテムがここに表示される -->
                            </div>

                            <div class="border-t pt-4 mt-6">
                                <div class="flex justify-between items-center text-xl font-bold">
                                    <span>合計金額:</span>
                                    <span id="total-price" class="text-[#C41E3A]">¥0</span>
                                </div>
                            </div>

                            <div class="mt-6 flex justify-end space-x-4">
                                <button
                                    onclick="clearCart()"
                                    class="px-6 py-2 border border-gray-300 rounded hover:bg-gray-50"
                                >
                                    カートを空にする
                                </button>
                                <a href="buy.html" class="bg-[#C41E3A] text-white px-8 py-2 rounded hover:bg-[#A01729]">
                                    お会計に進む
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- おすすめ商品 -->
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-xl font-bold text-gray-800 mb-4">おすすめ商品</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="border rounded-lg p-4 hover:shadow-md transition-shadow">
                            <div class="aspect-square bg-gray-200 rounded mb-3"></div>
                            <h3 class="font-semibold mb-2">日本の風景切手セット</h3>
                            <p class="text-[#C41E3A] font-bold">¥1,280</p>
                            <button
                                onclick="addToCart('landscape-set', '日本の風景切手セット', 1280)"
                                class="w-full mt-3 bg-[#C41E3A] text-white py-2 rounded hover:bg-[#A01729]"
                            >
                                カートに追加
                            </button>
                        </div>
                        <div class="border rounded-lg p-4 hover:shadow-md transition-shadow">
                            <div class="aspect-square bg-gray-200 rounded mb-3"></div>
                            <h3 class="font-semibold mb-2">記念切手コレクション</h3>
                            <p class="text-[#C41E3A] font-bold">¥2,500</p>
                            <button
                                onclick="addToCart('commemorative-collection', '記念切手コレクション', 2500)"
                                class="w-full mt-3 bg-[#C41E3A] text-white py-2 rounded hover:bg-[#A01729]"
                            >
                                カートに追加
                            </button>
                        </div>
                        <div class="border rounded-lg p-4 hover:shadow-md transition-shadow">
                            <div class="aspect-square bg-gray-200 rounded mb-3"></div>
                            <h3 class="font-semibold mb-2">季節の切手セット</h3>
                            <p class="text-[#C41E3A] font-bold">¥890</p>
                            <button
                                onclick="addToCart('seasonal-set', '季節の切手セット', 890)"
                                class="w-full mt-3 bg-[#C41E3A] text-white py-2 rounded hover:bg-[#A01729]"
                            >
                                カートに追加
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <footer class="bg-gray-100 mt-12">
            <div class="container mx-auto px-4 py-8">
                <!-- 配送・送料について -->
                <div class="bg-white rounded-lg p-6 mb-8 border border-gray-200">
                    <h3 class="text-lg font-bold text-gray-800 mb-4">配送・送料について</h3>
                    <div class="grid md:grid-cols-3 gap-6">
                        <div>
                            <h4 class="font-bold text-[#C41E3A] mb-2">郵便局（書留便など）</h4>
                            <p class="text-sm text-gray-600 mb-2">
                                郵便局の書留便、ゆうパックなどでお送りします。お客様の玄関先まで確実にお届けします。
                            </p>
                            <p class="text-sm font-bold text-gray-800">料金は全国一律650円です。</p>
                        </div>
                        <div>
                            <h4 class="font-bold text-[#C41E3A] mb-2">郵便局（特定記録便など）</h4>
                            <p class="text-sm text-gray-600 mb-2">
                                郵便局の特定記録便などでお送りします。基本的にお客様の郵便受箱に配送となります。
                            </p>
                            <p class="text-sm font-bold text-gray-800 mb-2">料金は全国一律400円です。</p>
                            <p class="text-xs text-gray-500">
                                ※特定記録便は万が一、亡失、誤配、商品破損、盗難などがあった場合に補償を受ける事ができません。<br />
                                ※平日のみの配達となります。土日、祝日は配達がありません。
                            </p>
                        </div>
                        <div>
                            <h4 class="font-bold text-[#C41E3A] mb-2">店頭お受け取り</h4>
                            <p class="text-sm text-gray-600 mb-2">
                                ご注文品の用意が整いましたら、メールでお知らせいたしますので、メール受信後に店舗（広島市）にてお受け取りください。
                            </p>
                            <a href="about.html" class="text-sm text-[#C41E3A] hover:underline">店舗案内はこちら »</a>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8">
                    <div>
                        <h3 class="font-bold text-gray-800 mb-4">ワールドスタンプ広島</h3>
                        <p class="text-sm text-gray-600 mb-2">高品質な切手を適正価格で</p>
                        <p class="text-sm text-gray-600">初心者から愛好家まで幅広くサポート</p>
                    </div>
                    <div>
                        <h3 class="font-bold text-gray-800 mb-4">ショッピングガイド</h3>
                        <ul class="space-y-2">
                            <li>
                                <a href="order-guide.html" class="text-sm text-gray-600 hover:text-[#C41E3A] underline">
                                    ご注文方法
                                </a>
                            </li>
                            <li>
                                <a href="payment-guide.html" class="text-sm text-gray-600 hover:text-[#C41E3A] underline">
                                    お支払い方法
                                </a>
                            </li>
                            <li>
                                <a href="about.html" class="text-sm text-gray-600 hover:text-[#C41E3A] underline">
                                    店舗案内
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-bold text-gray-800 mb-4">お客様サポート</h3>
                        <ul class="space-y-2">
                            <li>
                                <a href="faq.html" class="text-sm text-gray-600 hover:text-[#C41E3A] underline">
                                    よくあるご質問
                                </a>
                            </li>
                            <li>
                                <a href="contact.html" class="text-sm text-gray-600 hover:text-[#C41E3A] underline">
                                    お問い合わせ
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="font-bold text-gray-800 mb-4">お問い合わせ</h3>
                        <div class="space-y-3">
                            <div class="flex items-center gap-2">
                                <svg
                                    class="w-5 h-5"
                                    style="color: #c41e3a"
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                                    ></path>
                                </svg>
                                <span class="text-sm text-gray-700 font-medium">082-XXX-XXXX</span>
                            </div>
                            <p class="text-xs text-gray-600 ml-7">
                                平日 9:30-18:00<br />
                                定休日: 月・水・木
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="bg-gray-800 text-white py-4">
                <div class="container mx-auto px-4 text-center">
                    <p class="text-sm">© 2024 ワールドスタンプ広島 All Rights Reserved.</p>
                    <p class="text-xs mt-2">
                        <a href="admin-login.html" class="text-gray-400 hover:text-gray-300">管理者ログイン</a>
                    </p>
                </div>
            </div>
        </footer>

        <script>
            // カート管理
            let cart = JSON.parse(localStorage.getItem('cart')) || [];

            // ページ読み込み時にカートを表示
            window.onload = function () {
                displayCart();
            };

            function displayCart() {
                const emptyCart = document.getElementById('empty-cart');
                const cartContent = document.getElementById('cart-content');
                const itemsList = document.getElementById('items-list');
                const totalPrice = document.getElementById('total-price');

                if (cart.length === 0) {
                    emptyCart.classList.remove('hidden');
                    cartContent.classList.add('hidden');
                } else {
                    emptyCart.classList.add('hidden');
                    cartContent.classList.remove('hidden');

                    // カートアイテムを表示
                    itemsList.innerHTML = cart
                        .map(
                            (item) => `
                    <div class="flex items-center justify-between border-b pb-4">
                        <div class="flex items-center space-x-4">
                            <div class="w-16 h-16 bg-gray-200 rounded"></div>
                            <div>
                                <h3 class="font-semibold">${item.name}</h3>
                                <p class="text-gray-600">¥${item.price.toLocaleString()}</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center space-x-2">
                                <button onclick="updateQuantity('${item.id}', ${item.quantity - 1})" 
                                        class="w-8 h-8 border rounded flex items-center justify-center hover:bg-gray-50">-</button>
                                <span class="w-8 text-center">${item.quantity}</span>
                                <button onclick="updateQuantity('${item.id}', ${item.quantity + 1})" 
                                        class="w-8 h-8 border rounded flex items-center justify-center hover:bg-gray-50">+</button>
                            </div>
                            <button onclick="removeFromCart('${item.id}')" 
                                    class="text-red-500 hover:text-red-700">削除</button>
                        </div>
                    </div>
                `
                        )
                        .join('');

                    // 合計金額を計算
                    const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
                    totalPrice.textContent = `¥${total.toLocaleString()}`;
                }
            }

            function addToCart(id, name, price) {
                const existingItem = cart.find((item) => item.id === id);

                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({ id, name, price, quantity: 1 });
                }

                localStorage.setItem('cart', JSON.stringify(cart));
                displayCart();

                // 追加通知
                showNotification(`${name} をカートに追加しました`);
            }

            function updateQuantity(id, newQuantity) {
                if (newQuantity <= 0) {
                    removeFromCart(id);
                    return;
                }

                const item = cart.find((item) => item.id === id);
                if (item) {
                    item.quantity = newQuantity;
                    localStorage.setItem('cart', JSON.stringify(cart));
                    displayCart();
                }
            }

            function removeFromCart(id) {
                cart = cart.filter((item) => item.id !== id);
                localStorage.setItem('cart', JSON.stringify(cart));
                displayCart();
            }

            function clearCart() {
                if (confirm('カートを空にしてもよろしいですか？')) {
                    cart = [];
                    localStorage.setItem('cart', JSON.stringify(cart));
                    displayCart();
                }
            }

            function showNotification(message) {
                const notification = document.createElement('div');
                notification.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded shadow-lg z-50';
                notification.textContent = message;
                document.body.appendChild(notification);

                setTimeout(() => {
                    notification.remove();
                }, 3000);
            }
        </script>
    </body>
</html>
